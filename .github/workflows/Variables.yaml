name: vairables wrangling

on:
  workflow_dispatch:
  push:
    
jobs:
  set-variable:
    runs-on: ubuntu-latest

    outputs:
      variable1: ${{ steps.setv.outputs.variable1 }}

    steps:
      - name: Checkout code
        id: checkout
        uses: actions/checkout@v3

      - name: setv
        id: setv
        run: |
          echo "variable1=1" >> $GITHUB_OUTPUT
          variable2=2
      
      - name: despues
        id: despues
        run: |
          echo "Varible es ${variable2}"

  read_variable:
    runs-on: ubuntu-latest
    needs: set-variable
    steps:
      - env:
          OUTPUT1: ${{ needs.set-variable.outputs.variable1 }}
        run: |
          echo "echoing the variable"
          echo ${{ needs.set-variable.outputs.variable1 }}
          echo $OUTPUT1